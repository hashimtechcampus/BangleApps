const locale = require("locale");

let hour;
let minute;
let date;

let timer;

function getBackground() {
  return {
    width: 120,
    height: 96,
    bpp: 8,
    buffer: require("heatshrink").decompress(atob("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"))
  };
}

function draw() {
  const d = new Date();

  const newHour = ('0' + d.getHours()).substr(-2);
  const newMinute = ('0' + d.getMinutes()).substr(-2);
  const newDate = locale.date(d).trim();

  g.setFontAlign(0, 0, 0);

  if (newHour !== hour) {
    g.setFont('6x8', 5);
    g.setColor(0x0000);
    g.drawString(hour, 76, 100);
    g.setColor(0xFFFF);
    g.drawString(newHour, 76, 100);
    hour = newHour;
  }

  if (newMinute !== minute) {
    g.setFont('6x8', 5);
    g.setColor(0x0000);
    g.drawString(minute, 164, 100);
    g.setColor(0xFFFF);
    g.drawString(newMinute, 164, 100);
    minute = newMinute;
  }

  if (newDate !== date) {
    g.setFont('6x8', 2);
    g.setColor(0x0000);
    g.drawString(date, 120, 228);
    g.setColor(0xFFFF);
    g.drawString(newDate, 120, 228);
    date = newDate;
  }
}

function startDrawing() {
  hour = '';
  minute = '';
  date = '';
  g.setColor(0x0000);
  g.fillRect(0, 216, 240, 240);
  g.drawImage(getBackground(), 0, 24, { scale: 2 });
  Bangle.drawWidgets();
  draw();
  timer = setInterval(draw, 1000);
}

function stopDrawing() {
  if (timer) {
    clearInterval(timer);
    timer = undefined;
  }
}

Bangle.on('lcdPower', (on) => {
  stopDrawing();
  if (on) {
    startDrawing();
  }
});

Bangle.loadWidgets();
startDrawing();

// Show launcher when button pressed
Bangle.setUI("clock");
